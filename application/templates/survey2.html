{% extends "layout.html" %}

{% block content %}

<script type = "text/javascript">
let SURVEY = ['answer_0', 'answer_1', 'answer_2', 'answer_3', 'answer_4', 'answer_5', 'answer_6'];

    function survey(id) {
        for (let i = 0; i < SURVEY.length; i++) {
            let question = document.getElementById(SURVEY[i]);
            if (question.classList.contains("active_survey")) {
                question.classList.remove("active_survey");
            }
        }
      document.getElementById(SURVEY[id]).classList.add("active_survey");
      answers = ['0', '1', '2', '3', '4', '5', '6']
      document.getElementById("answer").value = answers[id]
}


</script>



<script type = "text/javascript">

setTimeout(function() {
    document.getElementById("submit").disabled = false;
    }, 2000);


</script>

<title>Survey</title>
<h1 style="text-align:center;">Survey</h1>

<p style="font-size:20px; padding-top:50px;">From the previous 6 questions, how many questions on <strong>average</strong> do you estimate <strong>your peers</strong> to have answered correct? (after receiving AI advice)</p>

<div class="col-container">
    <p class="survey_answer" id="answer_0" onclick="survey(0);" >
        0
    </p>
    <p class="survey_answer" id="answer_1" onclick="survey(1);" >
        1
    </p>
    <p class="survey_answer" id="answer_2" onclick="survey(2);">
        2
    </p>
    <p class="survey_answer" id="answer_3" onclick="survey(3);">
        3
    </p>
    <p class="survey_answer" id="answer_4" onclick="survey(4);">
        4
    </p>
    <p class="survey_answer" id="answer_5" onclick="survey(5);">
        5
    </p>
    <p class="survey_answer" id="answer_6" onclick="survey(6);">
        6
    </p>
</div>
<br><br>



<form method="POST" action="">
    {{ form.hidden_tag()}}
    <input type="hidden" id="answer" name="answer">
    {{ form.submit(hidden='true', id='form-submit') }}
    <button class="btn btn-success btn-block js-button" type="submit" id="submit" disabled="disabled">Confirm and continue</button>
</form>


<style>
  .survey_answer{
    text-align:center;
    border: 3px solid #0C2340;
    font-size:34px;
    border-radius: 50%;
    margin-right: 10px;
    padding-left: 10px;
    padding-right: 10px;
    height: 60px;
    width: 60px;

  }

  .active_survey {
    background-color: #0C2340;
    color: white;
  }
</style>



{% endblock content %}